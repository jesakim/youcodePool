<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" type="image/png" href="./assets/img/icon.png">
  <title>
    Youcode Pool
  </title>
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
  <link id="pagestyle" href="./assets/css/material-kit.css?v=3.0.4" rel="stylesheet" />

  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/299e2ad6c6.js" crossorigin="anonymous"></script>

  <script src="./assets/js/core/html5-qrcode.min.js"></script>

</head>

<body class="index-page bg-info"> 
  
  <!-- Navbar -->
<div class="container position-sticky z-index-sticky top-0"><div class="row"><div class="col-12">
<nav class="navbar navbar-expand-lg blur border-radius-xl top-0 z-index-fixed shadow position-absolute my-3 py-2 start-0 end-0 mx-4">
  <div class="container-fluid px-0">
    <a class="navbar-brand font-weight-bolder ms-sm-3" href="./index.html">
      Youcode Pool
    </a>
    <button class="navbar-toggler shadow-none ms-2 border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon mt-2">
        <span class="navbar-toggler-bar bar1"></span>
        <span class="navbar-toggler-bar bar2"></span>
        <span class="navbar-toggler-bar bar3"></span>
      </span>
    </button>
    <div class="collapse navbar-collapse pt-3 pb-2 py-lg-0 w-100" id="navigation">
      <ul class="navbar-nav navbar-nav-hover ms-auto">
        <li class="nav-item d-flex">
          <a class="nav-link" aria-current="page" href="./solos.html">
            <i class="fa-solid fa-user "></i>
            Solos History
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="duos.html">
            <i class="fa-solid fa-user-group"></i>
            Duos History
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="./rules.html">
            <i class="fa-solid fa-list-ul"></i>
            Rules
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="./profile.html">
          <i class="fa-regular fa-circle-user"></i>
          Username
        </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- End Navbar -->
</div></div></div>

<div class="" style="height: 100px;"></div>

<div class="container">

<div class="card">
  <h4 class="card-header p-0 my-2 position-relative z-index-1 text-center text-uppercase text-dark font-weight-bolder">
    Courant Match
  </h4>
  <div class="table-responsive">
    <table class="table align-items-center mb-0">
      <thead>
        <tr>
          <th class="p-0"></th>
          <th class="p-0"></th>
          <th class="p-0"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <h6 class="mb-0 text-center">John Michael</h6>
            <p class="text-xs font-weight-bold mb-0 text-center">&</p>
            <h6 class="mb-0 text-center">John Michael</h6>
          </td>
          <td class="p-0">
            <p class="text-xs font-weight-bold mb-0 p-0 text-center">VS</p>
          </td>
          <td>
            <h6 class="mb-0 text-center">John Michael</h6>
            <p class="text-xs font-weight-bold mb-0 text-center">&</p>
            <h6 class="mb-0 text-center">John Michael</h6>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row mt-3 g-2 ">
  <div class="col-lg-4 col-12">
    <!-- style="aspect-ratio:1/1" -->
    <div class="card" >
      
      <div class="card-header p-0 mx-3 mt-3 text-center text-uppercase text-dark font-weight-bolder">
        <h4 class="d-none">Scan To Play</h4> 
      </div>
      
      <div class="card-body pt-2">
        <button type="button" onclick="readerRender(this)" class="btn bg-gradient-info w-100 m-0">Click To Scan</button>
        <div id="result"></div>
        <div id="reader" ></div>
      </div>
    </div>
  </div>
  <div class="col-lg-8 col-12">
    <div class="card">
      <div class="card-header p-0 ps-3 pt-2">
        <h4>Players Queue</h4>
        </div>
      <div class="table-responsive">
        <table class="table align-items-center mb-0">
          <thead>
            <tr>
              <th></th>
              <th class="text-uppercase text-dark text-xs font-weight-bolder p-0">Username</th>
              <th class="text-uppercase text-dark text-xs font-weight-bolder p-0">Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <p class="font-weight-bold mb-0 text-center">11</p>
              </td>
              <td class="align-middle p-0">
                <h5 class="mb-0">John Michael</h5>
              </td>
              <td class="align-middle p-0">
                <h5 class="mb-0  ">12:12:12</h5>
              </td>
            </tr>
    
          </tbody>
        </table>
      </div>
      </div>
  </div>
</div>

</div>

<script src="./assets/js/core/bootstrap.min.js" type="text/javascript"></script>
<script src="./assets/js/material-kit.min.js?v=3.0.4" type="text/javascript"></script>

<script>
  

function readerRender(btn){
  btn.classList.add('d-none');
  btn.parentElement.previousElementSibling.children[0].classList.remove('d-none');
  
  function onScanSuccess(decodedText, decodedResult) {
    // Handle on success condition with the decoded text or result.
    console.log(`Scan result: ${decodedText}`, decodedResult);

    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = `<strong>Scanned QR Code:</strong> ${decodedText}`;

    // Stop the scanner after a successful scan
    html5QrcodeScanner.clear();
  }

  var html5QrcodeScanner = new Html5QrcodeScanner(
    "reader", 
    { fps: 10,
      aspectRatio:1,
      supportedScanTypes: [Html5QrcodeScanType.SCAN_TYPE_CAMERA],
      rememberLastUsedCamera: true,
      formatsToSupport: [ Html5QrcodeSupportedFormats.QR_CODE ],
      showTorchButtonIfSupported :true
    });

  html5QrcodeScanner.render(onScanSuccess);

  let img = document.querySelector('img[alt="Info icon"]')
  img.remove();
  let reader = document.getElementById('reader')
  reader.style=''
  permissionBtn = document.getElementById('html5-qrcode-button-camera-permission')
  var interval;
  if(permissionBtn){
    permissionBtn.classList = 'btn bg-gradient-info';
    permissionBtn.onclick = function(){interval = setInterval(abserve, 1)};
  }else{
    interval = setInterval(abserve, 1)
  }

  function abserve(){
    const startBtn = document.getElementById('html5-qrcode-button-camera-start')
    if (!startBtn)return;
    startBtn.classList = 'btn bg-gradient-info';
    const camereSelect = document.getElementById('html5-qrcode-select-camera')
    camereSelect.classList = "form-control"
    camereSelect.parentElement.classList="input-group input-group-static mb-4"
    const stopBtn = document.getElementById("html5-qrcode-button-camera-stop")
    stopBtn.classList = 'btn bg-gradient-info';
    clearInterval(interval);

  }
}
  



</script>
</body>

</html>
